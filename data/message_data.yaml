
message_tests: # 普通消息测试组
  - name: "短消息_点击发送"
    messages: [ "短消息" ]
    send_method: "click"
#
  - name: "长消息_回车发送"
    messages: [ "长度消息中等长度消息中等长度消息中等长度消息中等长度消息" ]
    send_method: "enter"

  - name: "特殊字符_点击发送"
    messages: [ "特殊!@#$%^&*()" ]
    send_method: "click"

  - name: "多消息_send发送"
    messages: [ "消息1", "消息2","消息3" ]
    send_method: "click"
#
  - name: "多消息_enter发送"
    messages: [ "消息1", "消息2","消息3" ]
    send_method: "enter"

  - name: "给好友发送多条信息_顶部搜索"
    messages: [ "搜索好友发消息1", "搜索好友发消息2","搜索好友发消息3" ]
    send_method: "click"
    target_phone: "18378056217"
    target: "friend"
#
  - name: "给好友发送单条信息_会话列表查找好友"
    messages: [ "会话列表中找到好友——检测消息" ]
    send_method: "click"
    target_phone: "19924351151"
    target: "session_list"

  - name: "给好友发送单条信息_contacts菜单内已存在好友列表"
    messages: [ "contacts菜单内已存在好友列表——检测消息" ]
    send_method: "click"
    target_phone: "LYQ"
    target: "contacts_list"

operation_tests:
  # 新增键盘组合键测试
  - name: "键盘操作_全选复制粘贴"
    messages: ["键盘_混合全选复制粘贴_测试文本"]
    operations:
      -   "select_all"
      -   "copy"
      -   "paste"
    send_method: "enter"

  # 新增右键菜单测试
  - name: "右键操作_剪切粘贴"
    messages: ["右键_混合全选剪切粘贴_测试文本"]
    operations:
      - "right_click:select_all"
      - "right_click:cut"
      - "right_click:paste"
    send_method: "click"

  - name: "右键操作_全选复制粘贴"
    messages: ["右键_混合全选复制粘贴_测试文本"]
    operations:
      - "right_click:select_all"
      - "right_click:copy"
      - "right_click:paste"
    send_method: "click"

emoji_tests:
  - name: "发送单个表情_愤怒表情"
    emoji_names: ["anger"]  # 使用文件名关键部分
    send_method: "click"
    target_phone: "18378056217"
    target: "friend"
    expected: # 新增预期结果
      count: 1
      sequence: [ "anger" ]

  - name: "发送组合表情_静默+开心"
    emoji_names: ["smile", "emo","hot","love"]
    send_method: "click"
    target_phone: "18378056217"
    target: "friend"
    expected: # 新增预期结果
      count: 1
      sequence: [ "smile", "emo","hot","love" ]



#  - name: "发送组合w文字_静默+开心"
#    emoji_names: [ "silent", "happy","silent","happy" ]
#    send_method: "click"
#    target_phone: "18378056217"
#    target: "friend"

media_tests:
  - name: "发送docx文档"
    file_path:
      - "src/files/document.docx"
    expected_type: "file"
    target: "friend"
    target_phone: "19924351151"

  - name: "发送jpg图片"
    file_path:
      - "src/imgs/1.jpg"
    expected_type: "image"
    target: "friend"
    target_phone: "19924351151"
##
  - name: "发送MP4视频"
    file_path:
      - "src/video/1.mp4"
    expected_type: "video"
    timeout: 45  # 视频上传需要更长时间
    target: "friend"
    target_phone: "19924351151"
##
  - name: "发送PNG图片"
    file_path:
      - "src/imgs/sample.png"
    expected_type: "image"
    target: "friend"
    target_phone: "19924351151"
#  - name: "发送大文件(50MB+)"
#    file_path: "test_data/large_file.zip"
#    expected_type: "file"
#    timeout: 120  # 大文件需要更长超时

share_card_tests:
#  # 基础场景
#  - name: "顶部搜索勾选单人_精确手机号"
#    select_type: "search"  # 区分搜索/列表操作
#    search_queries: ["小一"]
#    multi_select: false  # 是否多选场景
#    target_phone: "19924351151"
#    expected:
#      selected_count: 1
#      card_content: "用户A的名片"  # 预期分享的名片内容
#
#  # 混合搜索场景
#  - name: "顶部搜索勾选多人_混合搜索"
#    select_type: "search"
#    search_queries: ["LYQ", "18378056217"]  # 支持混合用户名/手机号搜索
#    multi_select: true
#    target_phone: "19924351151"
#    expected:
#      selected_count: 2
#      card_content: "用户B的名片"
#
#  # 列表直接勾选场景
#  - name: "直接列表勾选多人"
#    select_type: "list"
#    search_queries: ["19924351151",'小一']  # 空表示不执行搜索
#    multi_select: true
#    target_phone: "18378056217"
#    expected:
#      selected_count: 2
#      card_content: "用户C的名片"
#  - name: "直接列表勾选单人"
#    select_type: "list"
#    search_queries: [ "18378056217" ]  # 空表示不执行搜索
#    multi_select: true
#    target_phone: "LYQ"
#    expected:
#      selected_count: 2
#      card_content: "用户C的名片"

  - name: "取消分享_验证无消息发送"
    operation_type: "cancel"  # 新增操作类型标识
    select_type: "list"
    search_queries: [ "18378056217"]  # 空表示不执行搜索
    multi_select: true
    target_phone: "LYQ"
    expected:
      selected_count: 1    # 初始勾选数量

  - name: "清空已勾选好友_逐个清除"
    operation_type: "clear"  # 新增操作类型标识
    select_type: "list"
    search_queries: [ "18378056217","LYQ","小一" ]  # 空表示不执行搜索
    multi_select: true
    target_phone: "19924351151"
    expected:
      initial_selected: 3    # 初始勾选数量
      cleared_selected: 0     # 清空后数量
      confirm_disabled: true  # 确认按钮状态

reply_tests:
  - name: "文本消息回复测试"
    target: "friend"
    target_phone: "18378056217"     # 目标好友手机号
    original_messages: ["Hello"]  # 先发送的原消息
    reply_text: "This is my reply"  # 回复内容
    expected:
      contains_original: true  # 回复中应包含原消息

  - name: "取消引用的回复测试"
    target: "friend"
    target_phone: "18378056217"     # 目标好友手机号
    original_messages: [ "Hello2" ]  # 先发送的原消息
    reply_text: "Reply after cancel quote"  # 回复内容
    cancel_quote: true  # 测试步骤：执行取消引用操作
    expected:
      contains_original: false # 验证引用不存在
  - name: "图片消息回复测试"
    target: "friend"
    target_phone: "18378056217"
    original_messages:
      - type: "image"
        path: "src/imgs/1.jpg"  # 图片路径
    reply_text: "这是图片回复"
    expected:
      contains_original: true

  - name: "视频消息回复测试"
    target: "friend"
    target_phone: "18378056217"
    original_messages:
      - type: "video"
        path: "src/video/1.mp4"  # 视频路径
    reply_text: "这是视频回复"
    expected:
      contains_original: true

  - name: "文件消息回复测试"
    target: "friend"
    target_phone: "18378056217"
    original_messages:
      - type: "file"
        path: "src/files/document.docx"  # 文件路径
    reply_text: "这是文件回复"
    expected:
      contains_original: true

#  - name: "语音消息回复测试"
#    target: "friend"
#    target_phone: "18378056217"
#    original_messages:
#      - type: "voice"
#        duration: 3  # 语音时长
#    reply_text: "这是语音回复"
#    expected:
#      contains_original: true
